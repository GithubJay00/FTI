--{{ Settings }}--

local range = 6.5
 
------------------



--{{ Variables }}--

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local StarterGui = game:GetService("StarterGui")
local player = Players.LocalPlayer

------------------



--{{ Notify }}--

function Notify()
	StarterGui:SetCore("SendNotification", {Title = "FTI", Text = "Reach"})
end
Notify()

------------------



--{{ Script }}--

RunService.Stepped:Connect(function()
	for _, p in pairs(Players:GetPlayers()) do
		if p.Name ~= player.Name then
			
			local qChar = p.Character
			local qHRP = qChar and qChar:FindFirstChild("HumanoidRootPart")
			local qHM = qChar and qChar:FindFirstChildOfClass("Humanoid")
			
			local Char = player.Character
			local HRP = Char and Char:FindFirstChild("HumanoidRootPart")
			local HM = Char and Char:FindFirstChildOfClass("Humanoid")
			
			if HM and qHM then
				if HM.Health > 0 and qHM.Health > 0 then
					
					local limbs = {
						RightArm = qChar:FindFirstChild("Right Arm"),
						LeftArm = qChar:FindFirstChild("Left Arm"),
						RightLeg = qChar:FindFirstChild("Right Leg"),
						LeftLeg = qChar:FindFirstChild("Left Leg"),
						Torso = qChar:FindFirstChild("Torso"),
						HumanoidRootPart = qChar:FindFirstChild("HumanoidRootPart"),
						Head = qChar:FindFirstChild("Head")
					}

					local Distance = (HRP.Position - qHRP.Position).Magnitude

					if Distance <= range then
						
						local tool = Char and Char:FindFirstChildOfClass("Tool")
						local Handle = tool and tool:FindFirstChild("Handle")
						
						if tool and Handle then
							tool:Activate()
							local Qhrp = limbs.HumanoidRootPart

							firetouchinterest(Qhrp, Handle, 0)
							firetouchinterest(Qhrp, Handle, 1)
							firetouchinterest(Qhrp, Handle, 0)
						end
					end
				end
			end
		end
	end
end)

------------------
